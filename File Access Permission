#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>

int main() {
    char fname[50];
    struct stat st;

    printf("Enter file name: ");
    scanf("%s", fname);

    if (stat(fname, &st) == -1) {
        perror("stat");
        exit(1);
    }

    printf("Current permissions: %o\n", st.st_mode & 0777);

    printf("Changing permissions to 755...\n");
    if (chmod(fname, 0755) == -1) {
        perror("chmod");
        exit(1);
    }

    stat(fname, &st);
    printf("Updated permissions: %o\n", st.st_mode & 0777);
    return 0;
}
